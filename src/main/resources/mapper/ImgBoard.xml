<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ImgBoard">
    <select id="ImgBoardGetList"  parameterType="ImgBoardDto"  resultType="ImgBoardDto" >
        select
            A.imgBoardId
             ,A.title
             ,A.writer
             ,to_char(A.createdDate, 'yyyy-mm-dd') createdDate
             ,A.rnum
        FROM
            (
                SELECT A.imgBoardId, A.title, A.writer, A.createdDate,
                       row_number() over(order by imgBoardId desc) as rnum,
                        ceil(row_number() over(order by imgBoardId desc)/10)-1 as pg
                FROM imgBoard A
            )A where pg=#{pg}
    </select>
    <select id="ImgBoardGetView"  parameterType="ImgBoardDto"  resultType="ImgBoardDto" >
        select
            A.imgBoardId
             ,A.title
             ,A.writer
             ,A.createdDate
        from imgBoard A
        where A.imgBoardId = #{imgBoardId}
    </select>
</mapper>